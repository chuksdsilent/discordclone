[{"C:\\Users\\Oshabz\\discordclone\\src\\index.js":"1","C:\\Users\\Oshabz\\discordclone\\src\\App.js":"2","C:\\Users\\Oshabz\\discordclone\\src\\serviceWorker.js":"3","C:\\Users\\Oshabz\\discordclone\\src\\app\\store.js":"4","C:\\Users\\Oshabz\\discordclone\\src\\Sidebar.js":"5","C:\\Users\\Oshabz\\discordclone\\src\\SidebarChannel.js":"6","C:\\Users\\Oshabz\\discordclone\\src\\Chat.js":"7","C:\\Users\\Oshabz\\discordclone\\src\\ChatHeader.js":"8","C:\\Users\\Oshabz\\discordclone\\src\\Message.js":"9","C:\\Users\\Oshabz\\discordclone\\src\\features\\userSlice.js":"10","C:\\Users\\Oshabz\\discordclone\\src\\Login.js":"11","C:\\Users\\Oshabz\\discordclone\\src\\Firebase.js":"12","C:\\Users\\Oshabz\\discordclone\\src\\features\\appSlice.js":"13"},{"size":644,"mtime":499162500000,"results":"14","hashOfConfig":"15"},{"size":1111,"mtime":1612752803996,"results":"16","hashOfConfig":"15"},{"size":5141,"mtime":499162500000,"results":"17","hashOfConfig":"15"},{"size":255,"mtime":1612732584484,"results":"18","hashOfConfig":"15"},{"size":3294,"mtime":1613038275726,"results":"19","hashOfConfig":"15"},{"size":843,"mtime":1612779834468,"results":"20","hashOfConfig":"15"},{"size":2800,"mtime":1615317084865,"results":"21","hashOfConfig":"15"},{"size":1121,"mtime":1612756699979,"results":"22","hashOfConfig":"15"},{"size":425,"mtime":1612779303609,"results":"23","hashOfConfig":"15"},{"size":463,"mtime":1612756086380,"results":"24","hashOfConfig":"15"},{"size":5026,"mtime":1612709911307,"results":"25","hashOfConfig":"15"},{"size":601,"mtime":1612613230887,"results":"26","hashOfConfig":"15"},{"size":634,"mtime":1612775238119,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1gjeitb",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\Oshabz\\discordclone\\src\\index.js",[],["57","58"],"C:\\Users\\Oshabz\\discordclone\\src\\App.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\serviceWorker.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\app\\store.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\Sidebar.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\SidebarChannel.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\Chat.js",["59"],"import { AddCircle, CardGiftcard, EmojiEmotions, GifOutlined } from '@material-ui/icons'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport './Chat.css'\r\nimport ChatHeader from './ChatHeader'\r\nimport { selectChannelId, selectChannelName } from './features/appSlice'\r\nimport { selectUser } from './features/userSlice'\r\nimport db from './Firebase'\r\nimport Message from './Message'\r\nimport firebase from './Firebase';\r\n\r\nfunction Chat() {\r\n    const user = useSelector(selectUser);\r\n    const channelId = useSelector(selectChannelId);\r\n    const channelName = useSelector(selectChannelName);\r\n    const [input, setInput] = useState('');\r\n    const [messages, setMessages] = useState([])\r\n\r\n    console.log(channelId);\r\n    useEffect(() => {\r\n        if (channelId) {\r\n            db.collection(\"channels\").doc(channelId).collection(\"message\")\r\n                .onSnapshot((snapshot) =>\r\n                    setMessages(snapshot.docs.map((doc) => doc.data()))\r\n                );\r\n        }\r\n\r\n    }, [channelId]);\r\n    console.log(messages);\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault();\r\n\r\n        db.collection(\"channels\").doc(channelId).collection(\"message\")\r\n            .add({\r\n                // timestamp: firebase.Firestore.FieldValue.serverTimestamp(),\r\n                message: input,\r\n                user: user\r\n            });\r\n        setInput(\"\");\r\n    }\r\n    return (\r\n        <div className=\"chat\">\r\n            <ChatHeader channelName={channelName} />\r\n            <div className=\"chat__messages\">\r\n                {\r\n                    messages.map((message) => (\r\n                        <Message message={message.message} user={message.user} />\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className=\"chat__input\">\r\n                <AddCircle fontSize=\"large\" />\r\n                <form >\r\n                    <input\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        type=\"text\"\r\n                        disabled={!channelId}\r\n                        placeholder={`Message ${channelName}`} />\r\n                    <button\r\n                        onClick={sendMessage}\r\n                        disabled={!channelId}\r\n                        type=\"submit\" className=\"chat__inputButton\">\r\n\r\n                        Send Message\r\n                    </button>\r\n                </form>\r\n                <div className=\"chat__inputIcons\">\r\n                    <CardGiftcard fontSize=\"large\" />\r\n                    <GifOutlined fontSize=\"large\" />\r\n                    <EmojiEmotions fontSize=\"large\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","C:\\Users\\Oshabz\\discordclone\\src\\ChatHeader.js",[],["60","61"],"C:\\Users\\Oshabz\\discordclone\\src\\Message.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\features\\userSlice.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\Login.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\Firebase.js",[],"C:\\Users\\Oshabz\\discordclone\\src\\features\\appSlice.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":10,"column":8,"nodeType":"68","messageId":"69","endLine":10,"endColumn":16},{"ruleId":"62","replacedBy":"70"},{"ruleId":"64","replacedBy":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar",["72"],["73"],"no-global-assign","no-unsafe-negation"]